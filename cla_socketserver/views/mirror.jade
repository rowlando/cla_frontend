extend admin
block adminContent
  p Mirror a current users sessions and DOM mutations

  form(action='/admin/mirror-request/', method='post')
    h2.FormBlock-label Send to all sessions
    fieldset.FormBlock
      table.ListTable(cellpadding='0', cellspacing='0', border='0', width='100%')
        thead
          tr
            th
            th User
            th User type
            th Socket ID
            th Version
            th Current case
        tbody
          for person in people
            for conn, socketID in person.connections
              tr
                td
                  input(type='radio', name='socketID' value=socketID)
                td #{person.username}
                td #{person.userType}
                td #{socketID}
                td #{conn.appVersion}
                td #{conn.caseViewed}
      .FormActions
        button.Button(type='submit', name='startRequest', value='true') Start mirroring
        button.Button.Button--secondary(type='submit', name='stopRequest', value='true') Stop mirroring
